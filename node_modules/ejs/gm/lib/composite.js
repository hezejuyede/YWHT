// composite

var utils = require('./utils');

/**
 * Composite images together using the `composite` command in graphicsmagick.
 *
 * gm('/path/to/img.jpg')
 * .composite('/path/to/second_image.jpg')
 * .geometry('+100+150')
 * .write('/path/to/composite.png', function(err) {
 *   if(!err) console.log("Written composite img.");
 * });
 *
 * @param {String} other  Path to the img that contains the changes.
 * @param {String} [mask] Path to the img with opacity informtion. Grayscale.
 */

module.exports = exports = function(proto) {
    proto.composite = function(other, mask) {
        this.in(other);

        // If the mask is defined, add it to the output.
        if(typeof mask !== "undefined")
            this.out(mask);

        this.subCommand("composite");

        return this;
    }
}
